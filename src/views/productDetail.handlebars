<h1>ðŸ“¦ Detalle del Producto</h1>


<h2>{{product.title}}</h2>
<p><strong>Precio:</strong> ${{product.price}}</p>
<p><strong>Stock:</strong> {{product.stock}}</p>
<p><strong>CategorÃ­a:</strong> {{product.category}}</p>
<p>{{product.description}}</p>

<button id="addToCart">Agregar al carrito</button>

<script>
  const cartId = "{{cartId}}";
  const productId = "{{product._id}}";

  document.getElementById("addToCart").addEventListener("click", async () => {
    const res = await fetch(`/api/carts/${cartId}/product/${productId}`, {
      method: "POST",
      headers: {"Content-Type": "application/json"},
      body: JSON.stringify({ quantity: 1 })
    });

    const data = await res.json();
    if (res.ok) {
      alert("Agregado al carrito");
    } else {
      alert("Error: " + data.message);
    }
  });
</script>